{"version":3,"sources":["api/index.js","redux/reducers/reducer.js","redux/reducers/index.js","redux/store.js","functions.js","Components/likeIcon.jsx","Components/crossIcon.jsx","Components/DetailPhoto.jsx","Components/Photo.jsx","Components/Photos.jsx","Components/Header.jsx","Components/Home.jsx","App.jsx","index.js"],"names":["unsplash","Unsplash","accessKey","secret","callbackUrl","authenticationUrl","auth","getAuthenticationUrl","initialState","images","modal","chosenPhotoId","reducer","state","action","type","photos","likePhoto","id","photoIndex","findIndex","el","likes","liked_by_user","unlikePhoto","photo","myApp","combineReducers","store","createStore","dateFormat","date","Date","toLocaleDateString","year","month","day","LikeIcon","props","iconFill","fill","iconClass","class","className","viewBox","xmlns","aria-labelledby","d","CrossIcon","onClick","transform","stroke","Photo","closeWindow","dispatch","useState","like","setLike","openModal","setOpenModal","handleCloseModal","likeDispatch","src","user","profile_image","small","alt","username","href","links","html","target","rel","localStorage","getItem","setBearerToken","isOpen","onRequestClose","ariaHideApp","style","content","top","left","right","bottom","marginRight","e","preventDefault","window","location","assign","urls","regular","alt_description","created_at","connect","DetailPhoto","history","back","map","i","hovered","setHover","hoverHandler","visuiallyClass","onMouseEnter","onMouseLeave","to","Photos","fetchImg","getRandomPhoto","count","then","toJson","json","useEffect","length","dataLength","next","hasMore","columnClassName","breakpointCols","default","1100","700","500","item","Header","withRouter","code","search","split","userAuthentication","setItem","access_token","App","exact","path","component","Home","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.db29bdbe.chunk.js","sourcesContent":["import Unsplash from 'unsplash-js';\r\n\r\nexport const unsplash = new Unsplash({ \r\n  accessKey: \"I-02d4OKSPU7jpZiA_CaNAEU8fGILvLUwrbNueVcBSA\",\r\n  secret: 'wt2N9yRsY9i2zYqNScyd7z-Qmq5oTFqm3l--bKfMWqc',\r\n  callbackUrl: \"https://neg1t.github.io/unsplash/\",\r\n});\r\n  \r\nexport const authenticationUrl = unsplash.auth.getAuthenticationUrl([\r\n  \"public\",\r\n  \"write_likes\"\r\n]);\r\n\r\n","import {unsplash} from '../../api'\r\n\r\nconst initialState = {\r\n  images: [],\r\n  modal: false,\r\n  chosenPhotoId: '',\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch(action.type) {\r\n    case 'LIKE': {\r\n      unsplash.photos.likePhoto(action.id)\r\n      const photos = [...state.images]\r\n      const photoIndex = photos.findIndex(el => {\r\n        return el.id === action.id\r\n      })\r\n      photos[photoIndex].likes++\r\n      photos[photoIndex].liked_by_user = true\r\n      return {\r\n        ...state,\r\n        images: photos,\r\n      }\r\n    }\r\n    case 'UNLIKE': {\r\n      unsplash.photos.unlikePhoto(action.id)\r\n      const photos = [...state.images]\r\n      const photoIndex = photos.findIndex(el => {\r\n        return el.id === action.id\r\n      })\r\n      photos[photoIndex].likes--\r\n      photos[photoIndex].liked_by_user = false\r\n      return {\r\n        ...state,\r\n        images: photos,\r\n      }\r\n    }\r\n    case 'LOAD_PHOTO': {\r\n      return {\r\n        ...state,\r\n        images: [...state.images, ...action.photo]\r\n      }\r\n    }\r\n    case 'TOGGLE_MODAL' : {\r\n      return {\r\n        ...state,\r\n        modal: !state.modal\r\n      }\r\n    }\r\n    case 'CHOSE_PHOTO' : {\r\n      return {\r\n        ...state,\r\n        chosenPhotoId: action.id\r\n      }\r\n    }\r\n    default: \r\n      return state;\r\n  }\r\n}\r\n\r\nexport default reducer;","import { combineReducers } from 'redux';\r\nimport reducer from './reducer'\r\n\r\nconst myApp = combineReducers({\r\n  reducer\r\n})\r\n\r\nexport default myApp;","import { createStore } from 'redux'\r\nimport myApp from './reducers'\r\n\r\nconst store = createStore(myApp);\r\n\r\nexport default store","export const dateFormat = (date) => {\r\n    const d = new Date(date)\r\n    const options = { year: 'numeric', month: 'numeric', day: 'numeric' }\r\n    return d.toLocaleDateString('en-GB', options)\r\n}","\r\nconst LikeIcon = (props) => {\r\n    const iconFill = props.fill\r\n    const iconClass = props.class\r\n  \r\n    return (\r\n      <svg className={iconClass} viewBox=\"0 -28 512.00002 512\" xmlns=\"http://www.w3.org/2000/svg\" aria-labelledby=\"title\">\r\n        <title id=\"title\">Like</title>\r\n        <path fill={iconFill} d=\"m471.382812 44.578125c-26.503906-28.746094-62.871093-44.578125-102.410156-44.578125-29.554687\r\n        0-56.621094 9.34375-80.449218 27.769531-12.023438 9.300781-22.917969 20.679688-32.523438\r\n        33.960938-9.601562-13.277344-20.5-24.660157-32.527344-33.960938-23.824218-18.425781-50.890625-27.769531-80.445312-27.769531-39.539063\r\n        0-75.910156 15.832031-102.414063 44.578125-26.1875 28.410156-40.613281 67.222656-40.613281 109.292969 0 43.300781 16.136719 82.9375\r\n        50.78125 124.742187 30.992188 37.394531 75.535156 75.355469 127.117188 119.3125 17.613281 15.011719 37.578124 32.027344 58.308593 50.152344 5.476563 4.796875\r\n        12.503907 7.4375 19.792969 7.4375 7.285156 0 14.316406-2.640625 19.785156-7.429687 20.730469-18.128907 40.707032-35.152344\r\n        58.328125-50.171876 51.574219-43.949218 96.117188-81.90625 127.109375-119.304687 34.644532-41.800781 50.777344-81.4375 50.777344-124.742187\r\n        0-42.066407-14.425781-80.878907-40.617188-109.289063zm0 0\"/>\r\n      </svg>\r\n    )\r\n}\r\nexport default LikeIcon;","\r\n\r\nconst CrossIcon = (props) => {\r\n  const onClick = props.onClick\r\n  return (\r\n    <svg onClick={onClick} className='cross-icon' xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1280.000000 1226.000000\" >\r\n      <title>Close window</title>\r\n        <g transform=\"translate(0.000000,1226.000000) scale(0.100000,-0.100000)\" stroke=\"none\">\r\n          <path d=\"M1374 11287 c-748 -535 -1361 -976 -1363 -980 -3 -8 953 -876 3616\r\n          -3285 606 -548 1100 -1002 1098 -1009 -3 -9 -4304 -5395 -4513 -5650 l-34 -43\r\n          143 51 c144 51 254 77 2209 519 195 44 522 118 726 164 l371 84 1612 1473\r\n          c887 811 1616 1474 1620 1474 7 0 803 -719 3936 -3557 l580 -526 3 65 c3 56 5\r\n          63 18 52 8 -6 16 -10 17 -8 2 2 88 303 191 669 103 366 223 788 266 937 l77\r\n          273 -362 422 c-2246 2625 -2875 3362 -2875 3367 0 3 920 847 2045 1875 l2045\r\n          1869 -93 64 c-50 34 -778 530 -1617 1102 -1109 755 -1528 1036 -1538 1028 -9\r\n          -7 -33 8 -88 53 -63 53 -78 60 -89 49 -7 -8 -643 -803 -1414 -1766 -770 -964\r\n          -1404 -1753 -1409 -1752 -4 0 -34 33 -68 72 -54 64 -943 1103 -2582 3020 -305\r\n          356 -557 647 -562 647 -4 0 -62 -43 -130 -96 -68 -53 -126 -91 -129 -86 -7 10\r\n          -343 402 -345 402 0 0 -613 -438 -1362 -973z\"/>\r\n        </g>\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default CrossIcon","import { useState } from 'react'\r\nimport { authenticationUrl, unsplash } from '../api'\r\nimport Modal from 'react-modal'\r\nimport { connect } from 'react-redux'\r\nimport { dateFormat } from '../functions'\r\nimport LikeIcon from './likeIcon'\r\nimport CrossIcon from './crossIcon'\r\nimport '../css/detail.css'\r\n\r\nlet Photo = ({\r\n  props,\r\n  closeWindow,\r\n  dispatch\r\n}) => {\r\n  const [like, setLike]     = useState(!props.liked_by_user);\r\n  const [openModal, setOpenModal] = useState(false);\r\n\r\n  const autorization = () => {\r\n    window.location.assign(authenticationUrl)\r\n  } \r\n\r\n  const modalCustomStyles = {\r\n    content : {\r\n      top                   : '50%',\r\n      left                  : '50%',\r\n      right                 : 'auto',\r\n      bottom                : 'auto',\r\n      marginRight           : '-50%',\r\n      transform             : 'translate(-50%, -50%)'\r\n    }\r\n  }\r\n  \r\n  const handleCloseModal = () => {\r\n    setOpenModal(!openModal);\r\n  }\r\n  const likeHandler = () => {\r\n    setLike(!like);\r\n  }\r\n\r\n  const likeDispatch = like ? 'LIKE' : 'UNLIKE';\r\n\r\n  return (\r\n    <div>\r\n      <div  className='cross-container' >\r\n        <CrossIcon onClick={closeWindow} />\r\n      </div>\r\n\r\n      <div className='photo__info-top'>\r\n        <div className='info__user_detail'>\r\n          <img className='user__profile-image' src={props.user.profile_image.small} alt={props.user.username} />\r\n          <a href={props.user.links.html} target='_blank' rel=\"noreferrer\" className=\"user__name\">{props.user.username}</a>\r\n        </div>\r\n        <div className=\"info__likes\">\r\n          <div className=\"likes__button_detail\"\r\n            onClick={() => {\r\n              if (localStorage.getItem('token')) {\r\n                likeHandler();\r\n                unsplash.auth.setBearerToken(localStorage.getItem('token'))\r\n                dispatch({\r\n                  type: likeDispatch,\r\n                  id: props.id\r\n                });\r\n              } else {\r\n                handleCloseModal()\r\n              }\r\n            }}>\r\n              <Modal\r\n                isOpen={openModal}\r\n                onRequestClose={handleCloseModal}\r\n                ariaHideApp={false}\r\n                style={modalCustomStyles}\r\n              >\r\n                <h2>To do it you should \r\n                  <button className='auth-button'\r\n                    onClick={e => {\r\n                      e.preventDefault();\r\n                      autorization()\r\n                    }}\r\n                  >authorize</button>\r\n                </h2>\r\n              </Modal>\r\n            <LikeIcon class='like-icon_detail' fill={ like ? 'white' : 'red' } />\r\n          </div>\r\n\r\n          <span className=\"likes__count\">{props.likes}</span>\r\n        </div>\r\n      </div>\r\n      <img className='detail__photo' src={props.urls.regular} alt={props.alt_description} />\r\n      <div className='photo__info-bottom'>\r\n        <div className=\"info__date_detail\">{dateFormat(props.created_at)}</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nPhoto = connect(dispatch => { return { dispatch } })(Photo)\r\n\r\nlet DetailPhoto = ({ dispatch, modal, photos, chosenPhotoId }) => {\r\n\r\n  const modalCustomStyles = {\r\n    content : {\r\n      top                   : '50%',\r\n      left                  : '50%',\r\n      right                 : 'auto',\r\n      bottom                : 'auto',\r\n      marginRight           : '-50%',\r\n      transform             : 'translate(-50%, -50%)'\r\n    }\r\n  }\r\n\r\n  const handleCloseModal = () => {\r\n    dispatch({\r\n      type: 'TOGGLE_MODAL'\r\n    })\r\n    window.history.back()\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={modal}\r\n      onRequestClose={handleCloseModal}\r\n      ariaHideApp={false}\r\n      style={modalCustomStyles}\r\n      >\r\n      {photos.map(i => (\r\n        i.id === chosenPhotoId ? \r\n        <Photo props={i} closeWindow={handleCloseModal} /> :\r\n        null\r\n      ))}\r\n    </Modal>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    photos: state.reducer.images,\r\n    modal: state.reducer.modal,\r\n    chosenPhotoId: state.reducer.chosenPhotoId\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    dispatch\r\n  }\r\n}\r\n\r\nexport default DetailPhoto = connect(mapStateToProps, mapDispatchToProps)(DetailPhoto)","import React from 'react'\r\nimport { useState } from 'react'\r\nimport { dateFormat } from '../functions'\r\nimport LikeIcon from './likeIcon'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport Modal from 'react-modal'\r\nimport { authenticationUrl, unsplash } from '../api'\r\n\r\nlet Photo = ({\r\n  dispatch,\r\n  props\r\n}) => {\r\n  const [hovered, setHover] = useState(false);\r\n  const [like, setLike]     = useState(!props.liked_by_user);\r\n  const [openModal, setOpenModal] = useState(false)\r\n\r\n  const autorization = () => {\r\n    window.location.assign(authenticationUrl)\r\n  } \r\n\r\n  const modalCustomStyles = {\r\n    content : {\r\n      top                   : '50%',\r\n      left                  : '50%',\r\n      right                 : 'auto',\r\n      bottom                : 'auto',\r\n      marginRight           : '-50%',\r\n      transform             : 'translate(-50%, -50%)'\r\n    }\r\n  }\r\n  \r\n  const handleCloseModal = () => {\r\n    setOpenModal(!openModal);\r\n  }\r\n  const likeHandler = () => {\r\n    setLike(!like);\r\n  }\r\n\r\n  const hoverHandler = () => {\r\n    setHover(!hovered);\r\n  };\r\n  const visuiallyClass = !hovered ? 'visually-hidden' : '';\r\n  const likeDispatch = like ? 'LIKE' : 'UNLIKE';\r\n  return (\r\n    <li onMouseEnter={hoverHandler} onMouseLeave={hoverHandler} className=\"item__photo\" key={props.id} >\r\n      <div className='photo'>\r\n        <div className={'photo__info ' + visuiallyClass} >\r\n          <div className='photo__info-top'>\r\n            <div className='info__user'>\r\n              <img className='user__profile-image' src={props.user.profile_image.small} alt={props.user.username} />\r\n              <a href={props.user.links.html} target='_blank' className=\"user__name\" rel=\"noreferrer\" >{props.user.username}</a>\r\n            </div>\r\n            <div className=\"info__likes\">\r\n              <div \r\n                className=\"likes__button\"\r\n                onClick={() => {\r\n                  if (localStorage.getItem('token')) {\r\n                    likeHandler();\r\n                    unsplash.auth.setBearerToken(localStorage.getItem('token'))\r\n                    dispatch({\r\n                      type: likeDispatch,\r\n                      id: props.id\r\n                    });\r\n                  } else {\r\n                    handleCloseModal()\r\n                    setHover(false)\r\n                  }\r\n                }} >\r\n                   <Modal\r\n                      isOpen={openModal}\r\n                      onRequestClose={handleCloseModal}\r\n                      ariaHideApp={false}\r\n                      style={modalCustomStyles}\r\n                    >\r\n                      <h2>To do it you should \r\n                        <button\r\n                          className='auth-button'\r\n                          onClick={e => {\r\n                            e.preventDefault();\r\n                            autorization();\r\n                            \r\n                          }}\r\n                        >authorize</button>\r\n                      </h2>\r\n                    </Modal>\r\n                <LikeIcon \r\n                  fill={ like ? 'white' : 'red' }\r\n                  class='like-icon'\r\n                />\r\n              </div>\r\n              <span className=\"likes__count\">{props.likes}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className='photo__info-bottom'>\r\n            <div className=\"info__date\">{dateFormat(props.created_at)}</div>\r\n          </div>\r\n        </div>\r\n        <Link\r\n            className='photo__link'\r\n            alt={`open full pic: ${props.alt_description}`}\r\n            to={`/photo/${props.id}`} \r\n            onClick={() => {\r\n              dispatch({\r\n                type: 'TOGGLE_MODAL'\r\n              })\r\n              dispatch({\r\n                type: 'CHOSE_PHOTO',\r\n                id: props.id\r\n              })\r\n          }}/>\r\n        <img className='photo__img' src={props.urls.small} alt={props.alt_description} />\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Photo = connect(\r\n  state => {\r\n    return {}\r\n  },\r\n  dispatch => {\r\n    return { dispatch }\r\n  }\r\n)(Photo)","import { unsplash } from '../api'\r\nimport { toJson } from 'unsplash-js'\r\nimport { connect } from 'react-redux'\r\nimport InfiniteScroll from 'react-infinite-scroll-component'\r\nimport Masonry from 'react-masonry-css'\r\nimport  { useEffect } from 'react'\r\nimport Photo from './Photo'\r\n\r\nlet Photos = ({ photos, dispatch }) => {\r\n\r\n  const fetchImg = () => {\r\n    unsplash.photos.getRandomPhoto({count: 20}).then(toJson).then(json => {\r\n      dispatch({\r\n        type: 'LOAD_PHOTO',\r\n        photo: json\r\n      })\r\n    });\r\n  }\r\n  \r\n  const breakpointColumnsObj = {\r\n    default: 4,\r\n    1100: 3,\r\n    700: 2,\r\n    500: 1\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (photos.length === 0) {\r\n      fetchImg()\r\n    }\r\n  }, [])\r\n  \r\n  return (\r\n    \r\n      <main>\r\n        <article>\r\n          <InfiniteScroll\r\n            dataLength={photos}\r\n            next={() => {fetchImg()}}\r\n            hasMore={true}\r\n            className='container'\r\n          >\r\n          <Masonry \r\n            className=\"photo-list\"\r\n            columnClassName=\"photo-list__item\"\r\n            breakpointCols={breakpointColumnsObj}\r\n          >\r\n            {photos.map(item => (\r\n              <Photo props={item} />\r\n            ))}\r\n          </Masonry>\r\n          </InfiniteScroll>\r\n        </article>\r\n      </main>    \r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    photos: state.reducer.images\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    dispatch\r\n  }\r\n}\r\n\r\nexport default Photos = connect(mapStateToProps, mapDispatchToProps)(Photos)","\r\nconst Header = () => {\r\n  return (\r\n    <header class='header rgb'>\r\n      <div class=\"logo\">Unsplash API</div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header","import { toJson } from 'unsplash-js'\r\nimport { unsplash } from '../api'\r\nimport { withRouter } from 'react-router-dom'\r\nimport Photos from './Photos'\r\nimport Header from './Header'\r\n\r\nconst Home = () => {\r\n\r\n  if (localStorage.getItem('token')) {\r\n    unsplash.auth.setBearerToken(localStorage.getItem('token'))\r\n  } else {\r\n\r\n    const code = window.location.search.split('code=')[1]\r\n    if (code) {\r\n      unsplash.auth.userAuthentication(code)\r\n      .then(toJson)\r\n      .then(json => {\r\n        localStorage.setItem('token', json.access_token);\r\n        unsplash.auth.setBearerToken(json.access_token);\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Photos />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default withRouter(Home)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\n\r\nimport './css/index.css'\r\nimport DetailPhoto from './Components/DetailPhoto'\r\nimport Home from './Components/Home'\r\n\r\n\r\nlet App = ({ modal }) => {\r\n  return (\r\n    <>\r\n      <Router>\r\n        <Route exact path='/unsplash/' component={Home} />\r\n      </Router>\r\n\r\n      {modal === true ? <DetailPhoto />  : null}\r\n    </>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    modal: state.reducer.modal\r\n  }\r\n}\r\n\r\nexport default App = connect(mapStateToProps)(App)","import ReactDOM from 'react-dom'\r\nimport store from './redux/store'\r\nimport { Provider } from 'react-redux'\r\nimport App from './App'\r\n\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}