(this.webpackJsonpatm=this.webpackJsonpatm||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports={main_button:"styles_main_button__W3GMN",disabled:"styles_disabled__3TyPi",value:"styles_value__1OwVu",extra:"styles_extra__2xUpO",extra_button:"styles_extra_button__2pYee"}},,,,,,,function(e,t,n){e.exports={atm:"styles_atm__3FzmA",screen:"styles_screen__1b8Ij",content:"styles_content__1XbWH",keypad_container:"styles_keypad_container__3Ddsc"}},function(e,t,n){e.exports={card:"styles_card__TD_vA",text:"styles_text__2lpo3",label:"styles_label__Jb8kX",extra_text:"styles_extra_text__2mlQw"}},,function(e,t,n){e.exports={conatiner:"styles_conatiner__3NAz7",main_keypad:"styles_main_keypad__cgoaf",extra_keypad:"styles_extra_keypad__1hf0z"}},function(e,t,n){e.exports={container:"styles_container__3IwYZ",buttons:"styles_buttons__12TYJ",list:"styles_list__Oy-GI"}},function(e,t,n){e.exports={img:"styles_img__1Ul9b",bill:"styles_bill__2d2XT",count:"styles_count__2-y-R"}},function(e,t,n){e.exports={container:"styles_container__3pm66",title:"styles_title__WqHhr",neon:"styles_neon__1Ikpr","card_\u0441ontainer":"styles_card_\u0441ontainer__31La2"}},function(e,t,n){e.exports={card:"styles_card__1GkLt"}},function(e,t,n){e.exports={container:"styles_container__7Zdm6",input_container:"styles_input_container__fL6TG",button:"styles_button__3Noge"}},function(e,t,n){e.exports={container:"styles_container__iNg9E",input:"styles_input__2iWbM",error:"styles_error__28pb4"}},,,,,,,function(e){e.exports=JSON.parse('{"bills":[{"id":1,"variants":{"50":10000,"100":8000,"200":5000,"500":3000,"1000":1000,"2000":400,"5000":100}},{"id":2,"variants":{"50":3450,"100":1643,"200":234,"500":4362,"1000":6741,"2000":345,"5000":476}},{"id":3,"variants":{"50":234,"100":2345,"200":9654,"500":2451,"1000":845,"2000":678,"5000":234}},{"id":4,"variants":{"50":342,"100":124,"200":2154,"500":4365,"1000":2543,"2000":562,"5000":546}},{"id":5,"variants":{"50":3854,"100":1257,"200":3296,"500":7556,"1000":479,"2000":347,"5000":2732}},{"id":6,"variants":{"50":854,"100":857,"200":696,"500":356,"1000":279,"2000":147,"5000":73}}]}')},,,function(e,t,n){e.exports={list_container:"styles_list_container__3h4Ie"}},function(e,t,n){e.exports={button:"styles_button__Ja4pE"}},function(e,t,n){e.exports={title:"styles_title__214aT"}},function(e,t,n){e.exports={card_container:"styles_card_container__fIhEP"}},,,,,,,,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(29),r=n.n(s),l=n(9),i=n(15),o=n.n(i),u=n(17),b=n(18),j=n.n(b),_=n(8),x=n.n(_),d=n(4),v=n(0),f=function(e){var t=e.value,n=e.extra,a=e.onClick;return Object(v.jsxs)("div",{className:Object(d.a)(x.a.main_button,""===t&&x.a.disabled),onClick:function(){a&&""!==t&&a(String(t))},children:[Object(v.jsx)("span",{className:x.a.value,children:t}),Object(v.jsx)("span",{className:x.a.extra,children:n.join("")})]})},O=function(e){var t=e.value,n=e.color,a=e.onClick;return Object(v.jsx)("div",{className:Object(d.a)(x.a.extra_button,""===t&&x.a.disabled),style:{background:n},onClick:a,children:Object(v.jsx)("p",{className:x.a.value,children:t})})},m=[{value:1,extra:["Q","Z"]},{value:2,extra:["A","B","C"]},{value:3,extra:["D","E","F"]},{value:4,extra:["G","H","I"]},{value:5,extra:["J","K","L"]},{value:6,extra:["M","N","O"]},{value:7,extra:["P","R","S"]},{value:8,extra:["T","U","V"]},{value:9,extra:["W","X","Y"]},{value:"",extra:[]},{value:0,extra:[]},{value:"",extra:[]}],p=[{value:"cancel",color:"#ff4545"},{value:"clear",color:"#eeff59"},{value:"enter",color:"#26ff1f"},{value:"",color:""}],h=n(2),N=n(12),y=n(38),g=n(30),k=function(e){var t=Object.keys(e).reduce((function(t,n){return e[t]>e[n]?t:n}));return{bill:Number(t),count:e[t]}},C=function(e,t){var n=k(t),a=Object.entries(t),c=[0];if(e%n.bill===0&&n.count>0)return n;c.push(n.bill),n.count=0;var s,r=Object(g.a)(a);try{for(r.s();!(s=r.n()).done;){var l=s.value;!c.includes(Number(l[0]))&&e%Number(l[0])===0&&l[1]>n.count&&(n.bill=Number(l[0]),n.count=Number(l[1]))}}catch(i){r.e(i)}finally{r.f()}return n},S=n(31),T=Object(a.createContext)({bill:{value:"",error:"",billState:{},allVariants:[],setError:function(){},setBillState:function(){},enter:function(){return{}},keyClick:function(){return function(){}},clear:function(){}}}),B=function(e){var t=e.children,n=I();return Object(v.jsx)(T.Provider,{value:{bill:n},children:t})},E=function(){return Object(a.useContext)(T).bill},I=function(){var e=Object(y.a)(S.bills),t=Object(a.useState)(""),n=Object(N.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(""),l=Object(N.a)(r,2),i=l[0],o=l[1],b=Object(a.useState)(e[0].variants),j=Object(N.a)(b,2),_=j[0],x=j[1],d=function(){s("")};return{billState:_,setBillState:x,allVariants:e,value:c,keyClick:function(e,t){o(""),c.length<10&&s("button"===t?c+e:e)},clear:d,enter:function(){if(Number(c)%50===0&&""!==c){var e=function(e,t){var n={},a=Object(u.a)({},t),c={currentBills:{},givenBills:{},message:""},s=Object.entries(a).map((function(e){return Number(e[0])*Number(e[1])})).reduce((function(e,t){return e+t})),r=0,l=e,i=[0];if(s>=e)for(;s>=50&&0!==l;){var o=k(a);if(i.reduce((function(e,t){return e+t}))===Object.keys(a).map((function(e){return Number(e)})).reduce((function(e,t){return e+t}))){c.message="\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0432\u044b\u0434\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u0443\u044e \u0441\u0443\u043c\u043c\u0443 :";break}if(l%o.bill===0&&a[String(o.bill)]>0)r+=o.bill,l-=o.bill,s-=o.bill,n[o.bill]>0?n[o.bill]=n[o.bill]+1:n[o.bill]=1,a[String(o.bill)]-=1;else{var b=C(l,a);if(0===b.count)break;if(!(a[String(b.bill)]>0)){i.push(b.bill);continue}r+=b.bill,l-=b.bill,s-=b.bill,n[b.bill]>0?n[b.bill]=n[b.bill]+1:n[b.bill]=1,a[String(b.bill)]-=1}}else c.message="\u0412 \u0431\u0430\u043d\u043a\u043e\u043c\u0430\u0442\u0435 \u043d\u0435\u0442 \u0442\u0430\u043a\u043e\u0439 \u0441\u0443\u043c\u043c\u044b :(";return r===e?(c.currentBills=a,c.givenBills=n,c.message="\u0414\u0435\u043d\u044c\u0433\u0438 \u0432\u044b\u0434\u0430\u043d\u044b",c):c}(Number(c),_);return"\u0414\u0435\u043d\u044c\u0433\u0438 \u0432\u044b\u0434\u0430\u043d\u044b"===e.message?x(e.currentBills):o(e.message),d(),e}return o("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e \u043a\u0440\u0430\u0442\u043d\u043e\u0435 50")},error:i,setError:o}},J=function(){var e=E(),t=e.enter,n=e.keyClick,a=e.clear,c=Object(h.f)(),s=function(e){n(e,"button")};return Object(v.jsxs)("div",{className:j.a.conatiner,children:[Object(v.jsx)("div",{className:j.a.main_keypad,children:m.map((function(e,t){return Object(v.jsx)(f,{onClick:s,value:e.value,extra:e.extra},t)}))}),Object(v.jsx)("div",{className:j.a.extra_keypad,children:p.map((function(e,n){return Object(v.jsx)(O,{value:e.value,color:e.color,onClick:(s=e.value,function(){if("clear"===s)a();else if("enter"===s){var e=t();c.push("/give-out",Object(u.a)({},e))}else c.push("/")})},n);var s}))})]})},L=n(19),w=n.n(L),A=n(34),G=n.n(A),V=n(20),W=n.n(V),F=function(e){var t=e.src,n=e.alt,a=e.className;return Object(v.jsx)("img",{src:t,alt:n,className:a})},M=n.p+"static/media/ruble.fc9798f6.svg",P=function(e){var t=e.bill,n=e.count;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("span",{className:W.a.bill,children:[t," ",Object(v.jsx)(F,{className:W.a.img,src:M,alt:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0440\u0443\u0431\u043b\u044f"}),":"]}),Object(v.jsx)("span",{className:W.a.count,children:n})]})},X=function(e){var t=e.bills,n=e.className;return Object(v.jsx)("div",{className:Object(d.a)(G.a.list_container,n),children:Object.entries(t).map((function(e,t){return Object(v.jsx)(P,{bill:e[0],count:e[1]},t)}))})},Y=n(35),z=n.n(Y),D=function(e){var t=e.onClick,n=e.label,a=e.className;return Object(v.jsx)("button",{onClick:t,className:Object(d.a)(z.a.button,a),children:n})},H=n(36),U=n.n(H),Z=function(e){var t=e.text;e.className;return Object(v.jsx)("div",{className:U.a.title,children:Object(v.jsx)("h2",{children:t})})},Q=function(){var e=Object(h.f)(),t=E().billState;return Object(v.jsxs)("div",{className:w.a.container,children:[Object(v.jsx)(Z,{text:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),Object(v.jsx)(X,{className:w.a.list,bills:t}),Object(v.jsx)("div",{className:w.a.buttons,children:Object(v.jsx)(D,{label:"\u041d\u0430\u0437\u0430\u0434",onClick:function(){e.push("/")}})})]})},R=n(21),q=n.n(R),K=n(16),$=n.n(K),ee=function(e){var t=e.label,n=e.extra,a=e.className,c=e.redirectTo,s=Object(h.f)();return Object(v.jsx)("div",{className:Object(d.a)($.a.card,a),onClick:function(){s.push(c)},children:Object(v.jsxs)("div",{className:$.a.text,children:[Object(v.jsx)("p",{className:$.a.label,children:t}),n&&Object(v.jsx)("span",{className:$.a.extra_text,children:n})]})})},te=function(){return Object(v.jsxs)("div",{className:q.a.container,children:[Object(v.jsx)("div",{className:q.a.title,children:Object(v.jsx)("h1",{children:"ATM"})}),Object(v.jsxs)("div",{className:q.a.card_\u0441ontainer,children:[Object(v.jsx)(ee,{redirectTo:"/give-out",label:"\u0421\u043d\u044f\u0442\u044c \u0434\u0435\u043d\u044c\u0433\u0438"}),Object(v.jsx)(ee,{redirectTo:"/info",label:"\u0421\u043f\u0440\u0430\u0432\u043a\u0430",extra:"\u0423\u0437\u043d\u0430\u0442\u044c \u043e\u0441\u0442\u0430\u0442\u043e\u043a \u0432 \u0431\u0430\u043d\u043a\u043e\u043c\u0430\u0442\u0435"}),Object(v.jsx)(ee,{redirectTo:"/settings",label:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]})]})},ne=n(37),ae=n.n(ne),ce=n(22),se=n.n(ce),re=function(e){var t=e.className,n=e.variant,a=E().setBillState,c=Object(h.f)();return Object(v.jsx)("div",{className:Object(d.a)(se.a.card,t),onClick:function(){a(n.variants),c.push("/")},children:Object(v.jsx)("div",{className:se.a.text,children:Object(v.jsx)("p",{className:se.a.label,children:Object.entries(n.variants).map((function(e){return"".concat(e[0]," = ").concat(e[1])})).join(", ")})})})},le=function(){var e=E().allVariants;return Object(v.jsxs)("div",{children:[Object(v.jsx)(Z,{text:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),Object(v.jsx)("div",{className:ae.a.card_container,children:e.map((function(e){return Object(v.jsx)(re,{variant:e},e.id)}))})]})},ie=n(23),oe=n.n(ie),ue=n(24),be=n.n(ue),je=function(e){var t=e.className,n=e.maxLength,a=e.onChange,c=e.value,s=e.error;return Object(v.jsxs)("div",{className:be.a.container,children:[Object(v.jsx)("input",{className:Object(d.a)(be.a.input,t),maxLength:n,onChange:function(e){var t=e.currentTarget.value;/^\d*((\.|,)\d{0,2})?$/.test(t)&&a(t)},value:c,type:"text"}),s&&Object(v.jsx)("span",{className:be.a.error,children:s})]})},_e=function(){var e=E(),t=e.keyClick,n=e.value,a=e.clear,s=e.error,r=e.enter,l=e.setError,i=c.a.useState({}),o=Object(N.a)(i,2),u=o[0],b=o[1],j=Object(h.f)(),_=Object(h.g)();c.a.useEffect((function(){a()}),[]),c.a.useEffect((function(){_.state&&"\u0414\u0435\u043d\u044c\u0433\u0438 \u0432\u044b\u0434\u0430\u043d\u044b"===_.state.message&&(b(_.state),setTimeout((function(){j.push("/")}),3e3))}),[_]);var x=c.a.useCallback((function(){var e=r();"\u0414\u0435\u043d\u044c\u0433\u0438 \u0432\u044b\u0434\u0430\u043d\u044b"===(null===e||void 0===e?void 0:e.message)&&(b(e),setTimeout((function(){j.push("/")}),3e3))}),[r]);return Object(v.jsxs)("div",{className:oe.a.container,children:[Object(v.jsx)(Z,{text:"\u0412\u044b\u0434\u0430\u0447\u0430"}),(null===u||void 0===u?void 0:u.message)?Object(v.jsxs)("div",{children:[Object(v.jsx)("p",{children:"\u0412\u0430\u043c \u0412\u044b\u0434\u0430\u043d\u043e:"}),Object(v.jsx)(X,{bills:null===u||void 0===u?void 0:u.givenBills})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:oe.a.input_container,children:Object(v.jsx)(je,{maxLength:10,onChange:function(e){l(""),t(e,"input")},value:n,error:s})}),Object(v.jsx)("div",{className:oe.a.button,children:Object(v.jsx)(D,{label:"\u0412\u044b\u0432\u0435\u0441\u0442\u0438",onClick:x})})]})]})},xe=function(){return Object(v.jsxs)(h.c,{children:[Object(v.jsx)(h.a,{exact:!0,path:"/",component:te}),Object(v.jsx)(h.a,{exact:!0,path:"/info",component:Q}),Object(v.jsx)(h.a,{exact:!0,path:"/settings",component:le}),Object(v.jsx)(h.a,{exact:!0,path:"/give-out",component:_e}),Object(v.jsx)(h.a,{component:te})]})},de=function(){return Object(v.jsx)("div",{className:o.a.atm,children:Object(v.jsxs)("div",{className:o.a.content,children:[Object(v.jsx)("div",{className:o.a.screen,children:Object(v.jsx)(xe,{})}),Object(v.jsx)("div",{className:o.a.keypad_container,children:Object(v.jsx)(J,{})})]})})},ve=(n(49),function(){return Object(v.jsx)(B,{children:Object(v.jsx)(l.a,{children:Object(v.jsx)(de,{})})})});r.a.render(c.a.createElement(ve),document.getElementById("root"))}],[[50,1,2]]]);
//# sourceMappingURL=main.0345f55c.chunk.js.map