(this.webpackJsonpatm=this.webpackJsonpatm||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports={main_button:"styles_main_button__W3GMN",disabled:"styles_disabled__3TyPi",value:"styles_value__1OwVu",extra:"styles_extra__2xUpO",extra_button:"styles_extra_button__2pYee"}},,,function(e,t,n){e.exports={container:"styles_container__7Zdm6",input_container:"styles_input_container__fL6TG",button:"styles_button__3Noge",leave_button:"styles_leave_button__31WPi"}},,,,,,function(e,t,n){e.exports={atm:"styles_atm__3FzmA",screen:"styles_screen__1b8Ij",content:"styles_content__1XbWH",keypad_container:"styles_keypad_container__3Ddsc"}},function(e,t,n){e.exports={card:"styles_card__TD_vA",text:"styles_text__2lpo3",label:"styles_label__Jb8kX",extra_text:"styles_extra_text__2mlQw"}},function(e,t,n){e.exports={conatiner:"styles_conatiner__3NAz7",main_keypad:"styles_main_keypad__cgoaf",extra_keypad:"styles_extra_keypad__1hf0z"}},function(e,t,n){e.exports={container:"styles_container__3IwYZ",buttons:"styles_buttons__12TYJ",list:"styles_list__Oy-GI"}},function(e,t,n){e.exports={img:"styles_img__1Ul9b",bill:"styles_bill__2d2XT",count:"styles_count__2-y-R"}},function(e,t,n){e.exports={container:"styles_container__3pm66",title:"styles_title__WqHhr",neon:"styles_neon__1Ikpr","card_\u0441ontainer":"styles_card_\u0441ontainer__31La2"}},function(e,t,n){e.exports={card:"styles_card__1GkLt"}},function(e,t,n){e.exports={container:"styles_container__iNg9E",input:"styles_input__2iWbM",error:"styles_error__28pb4"}},,,,,,,function(e){e.exports=JSON.parse('{"bills":[{"id":1,"variants":{"50":10000,"100":8000,"200":5000,"500":3000,"1000":1000,"2000":400,"5000":100}},{"id":2,"variants":{"50":3450,"100":1643,"200":234,"500":4362,"1000":6741,"2000":345,"5000":476}},{"id":3,"variants":{"50":234,"100":2345,"200":9654,"500":2451,"1000":845,"2000":678,"5000":234}},{"id":4,"variants":{"50":342,"100":124,"200":2154,"500":4365,"1000":2543,"2000":562,"5000":546}},{"id":5,"variants":{"50":3854,"100":1257,"200":3296,"500":7556,"1000":479,"2000":347,"5000":2732}},{"id":6,"variants":{"50":854,"100":857,"200":696,"500":356,"1000":279,"2000":147,"5000":73}}]}')},,,function(e,t,n){e.exports={list_container:"styles_list_container__3h4Ie"}},function(e,t,n){e.exports={button:"styles_button__Ja4pE"}},function(e,t,n){e.exports={title:"styles_title__214aT"}},function(e,t,n){e.exports={card_container:"styles_card_container__fIhEP"}},,,,,,,,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(29),r=n.n(s),l=n(9),i=n(17),u=n.n(i),o=n(13),b=n(19),j=n.n(b),d=n(8),_=n.n(d),x=n(4),v=n(0),O=function(e){var t=e.value,n=e.extra,a=e.onClick;return Object(v.jsxs)("div",{className:Object(x.a)(_.a.main_button,""===t&&_.a.disabled),onClick:function(){a&&""!==t&&a(String(t))},children:[Object(v.jsx)("span",{className:_.a.value,children:t}),Object(v.jsx)("span",{className:_.a.extra,children:n.join("")})]})},f=function(e){var t=e.value,n=e.color,a=e.onClick;return Object(v.jsx)("div",{className:Object(x.a)(_.a.extra_button,""===t&&_.a.disabled),style:{background:n},onClick:a,children:Object(v.jsx)("p",{className:_.a.value,children:t})})},m=[{value:1,extra:["Q","Z"]},{value:2,extra:["A","B","C"]},{value:3,extra:["D","E","F"]},{value:4,extra:["G","H","I"]},{value:5,extra:["J","K","L"]},{value:6,extra:["M","N","O"]},{value:7,extra:["P","R","S"]},{value:8,extra:["T","U","V"]},{value:9,extra:["W","X","Y"]},{value:"",extra:[]},{value:0,extra:[]},{value:"",extra:[]}],p=[{value:"cancel",color:"#ff4545"},{value:"clear",color:"#eeff59"},{value:"enter",color:"#26ff1f"},{value:"",color:""}],h=n(2),N=n(14),y=n(38),g=n(30),k=function(e){var t=Object.keys(e).reduce((function(t,n){return e[t]>e[n]?t:n}));return{bill:Number(t),count:e[t]}},C=function(e,t){var n=k(t),a=Object.entries(t),c=[0];if(e%n.bill===0&&n.count>0)return n;c.push(n.bill),n.count=0;var s,r=Object(g.a)(a);try{for(r.s();!(s=r.n()).done;){var l=s.value;!c.includes(Number(l[0]))&&e%Number(l[0])===0&&l[1]>n.count&&(n.bill=Number(l[0]),n.count=Number(l[1]))}}catch(i){r.e(i)}finally{r.f()}return n},S=n(31),T=Object(a.createContext)({bill:{value:"",error:"",billState:{},allVariants:[],setError:function(){},setBillState:function(){},enter:function(){return{}},keyClick:function(){return function(){}},clear:function(){}}}),B=function(e){var t=e.children,n=I();return Object(v.jsx)(T.Provider,{value:{bill:n},children:t})},E=function(){return Object(a.useContext)(T).bill},I=function(){var e=Object(y.a)(S.bills),t=Object(a.useState)(""),n=Object(N.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(""),l=Object(N.a)(r,2),i=l[0],u=l[1],b=Object(a.useState)(e[0].variants),j=Object(N.a)(b,2),d=j[0],_=j[1],x=function(){s("")};return{billState:d,setBillState:_,allVariants:e,value:c,keyClick:function(e,t){u(""),c.length<10&&s("button"===t?c+e:e)},clear:x,enter:function(){if(""!==c&&0!==Number(c)){var e=function(e,t){var n,a={},c=Object(o.a)({},t),s={currentBills:{},givenBills:{},message:"",remain:0,issued:0},r=Object.entries(c).map((function(e){return Number(e[0])*Number(e[1])})).reduce((function(e,t){return e+t})),l=e%50,i=0,u=[0];if(0!==l?(n=e-l,s.remain=l):n=e,r>=e)for(;r>=50&&0!==n;){var b=k(c);if(u.reduce((function(e,t){return e+t}))===Object.keys(c).map((function(e){return Number(e)})).reduce((function(e,t){return e+t}))){s.message="\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0432\u044b\u0434\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u0443\u044e \u0441\u0443\u043c\u043c\u0443 :";break}if(n%b.bill===0&&c[String(b.bill)]>0)i+=b.bill,n-=b.bill,r-=b.bill,a[b.bill]>0?a[b.bill]=a[b.bill]+1:a[b.bill]=1,c[String(b.bill)]-=1;else{var j=C(n,c);if(0===j.count)break;if(!(c[String(j.bill)]>0)){u.push(j.bill);continue}i+=j.bill,n-=j.bill,r-=j.bill,a[j.bill]>0?a[j.bill]=a[j.bill]+1:a[j.bill]=1,c[String(j.bill)]-=1}}else s.message="\u0412 \u0431\u0430\u043d\u043a\u043e\u043c\u0430\u0442\u0435 \u043d\u0435\u0442 \u0442\u0430\u043a\u043e\u0439 \u0441\u0443\u043c\u043c\u044b :(";return i===e-l?(s.currentBills=c,s.givenBills=a,s.issued=e-l,s.message="\u0414\u0435\u043d\u044c\u0433\u0438 \u0432\u044b\u0434\u0430\u043d\u044b",s):s}(Number(c),d);return"\u0414\u0435\u043d\u044c\u0433\u0438 \u0432\u044b\u0434\u0430\u043d\u044b"===e.message?_(e.currentBills):u(e.message),x(),e}return u("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e \u043e\u0442\u043b\u0438\u0447\u043d\u043e\u0435 \u043e\u0442 \u043d\u0443\u043b\u044f")},error:i,setError:u}},J=function(){var e=E(),t=e.enter,n=e.keyClick,a=e.clear,c=Object(h.g)(),s=Object(h.f)(),r=function(e){"/give-out"===c.pathname&&n(e,"button")};return Object(v.jsxs)("div",{className:j.a.conatiner,children:[Object(v.jsx)("div",{className:j.a.main_keypad,children:m.map((function(e,t){return Object(v.jsx)(O,{onClick:r,value:e.value,extra:e.extra},t)}))}),Object(v.jsx)("div",{className:j.a.extra_keypad,children:p.map((function(e,n){return Object(v.jsx)(f,{value:e.value,color:e.color,onClick:(r=e.value,function(){if("clear"===r)a();else if("enter"===r){if("/give-out"===c.pathname){var e=t();s.push("/give-out",Object(o.a)({},e))}}else"cancel"===r&&s.push("/")})},n);var r}))})]})},L=n(20),W=n.n(L),w=n(34),A=n.n(w),G=n(21),P=n.n(G),V=function(e){var t=e.src,n=e.alt,a=e.className;return Object(v.jsx)("img",{src:t,alt:n,className:a})},F=n.p+"static/media/ruble.fc9798f6.svg",M=function(e){var t=e.bill,n=e.count;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("span",{className:P.a.bill,children:[t," ",Object(v.jsx)(V,{className:P.a.img,src:F,alt:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0440\u0443\u0431\u043b\u044f"}),":"]}),Object(v.jsx)("span",{className:P.a.count,children:n})]})},X=function(e){var t=e.bills,n=e.className;return Object(v.jsx)("div",{className:Object(x.a)(A.a.list_container,n),children:Object.entries(t).map((function(e,t){return Object(v.jsx)(M,{bill:e[0],count:e[1]},t)}))})},Y=n(35),z=n.n(Y),D=function(e){var t=e.onClick,n=e.label,a=e.className;return Object(v.jsx)("button",{onClick:t,className:Object(x.a)(z.a.button,a),children:n})},H=n(36),K=n.n(H),R=function(e){var t=e.text;e.className;return Object(v.jsx)("div",{className:K.a.title,children:Object(v.jsx)("h2",{children:t})})},U=function(){var e=Object(h.f)(),t=E().billState;return Object(v.jsxs)("div",{className:W.a.container,children:[Object(v.jsx)(R,{text:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),Object(v.jsx)(X,{className:W.a.list,bills:t}),Object(v.jsx)("div",{className:W.a.buttons,children:Object(v.jsx)(D,{label:"\u041d\u0430\u0437\u0430\u0434",onClick:function(){e.push("/")}})})]})},Z=n(22),Q=n.n(Z),q=n(18),$=n.n(q),ee=function(e){var t=e.label,n=e.extra,a=e.className,c=e.redirectTo,s=Object(h.f)();return Object(v.jsx)("div",{className:Object(x.a)($.a.card,a),onClick:function(){s.push(c)},children:Object(v.jsxs)("div",{className:$.a.text,children:[Object(v.jsx)("p",{className:$.a.label,children:t}),n&&Object(v.jsx)("span",{className:$.a.extra_text,children:n})]})})},te=function(){return Object(v.jsxs)("div",{className:Q.a.container,children:[Object(v.jsx)("div",{className:Q.a.title,children:Object(v.jsx)("h1",{children:"ATM"})}),Object(v.jsxs)("div",{className:Q.a.card_\u0441ontainer,children:[Object(v.jsx)(ee,{redirectTo:"/give-out",label:"\u0421\u043d\u044f\u0442\u044c \u0434\u0435\u043d\u044c\u0433\u0438"}),Object(v.jsx)(ee,{redirectTo:"/info",label:"\u0421\u043f\u0440\u0430\u0432\u043a\u0430",extra:"\u0423\u0437\u043d\u0430\u0442\u044c \u043e\u0441\u0442\u0430\u0442\u043e\u043a \u0432 \u0431\u0430\u043d\u043a\u043e\u043c\u0430\u0442\u0435"}),Object(v.jsx)(ee,{redirectTo:"/settings",label:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]})]})},ne=n(37),ae=n.n(ne),ce=n(23),se=n.n(ce),re=function(e){var t=e.className,n=e.variant,a=E().setBillState,c=Object(h.f)();return Object(v.jsx)("div",{className:Object(x.a)(se.a.card,t),onClick:function(){a(n.variants),c.push("/")},children:Object(v.jsx)("div",{className:se.a.text,children:Object(v.jsx)("p",{className:se.a.label,children:Object.entries(n.variants).map((function(e){return"".concat(e[0]," = ").concat(e[1])})).join(", ")})})})},le=function(){var e=E().allVariants;return Object(v.jsxs)("div",{children:[Object(v.jsx)(R,{text:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),Object(v.jsx)("div",{className:ae.a.card_container,children:e.map((function(e){return Object(v.jsx)(re,{variant:e},e.id)}))})]})},ie=n(11),ue=n.n(ie),oe=n(24),be=n.n(oe),je=function(e){var t=e.className,n=e.maxLength,a=e.onChange,c=e.value,s=e.error;return Object(v.jsxs)("div",{className:be.a.container,children:[Object(v.jsx)("input",{className:Object(x.a)(be.a.input,t),maxLength:n,onChange:function(e){var t=e.currentTarget.value;/^\d*((\.|,)\d{0,2})?$/.test(t)&&a(t)},value:c,type:"text"}),s&&Object(v.jsx)("span",{className:be.a.error,children:s})]})},de=function(e){var t=Object(h.f)(),n=function(){t.push("/")};return 0===e.remain?Object(v.jsxs)("div",{children:[Object(v.jsx)("p",{children:"\u0412\u044b\u0434\u0430\u043d\u043e:"}),Object(v.jsx)(X,{bills:null===e||void 0===e?void 0:e.givenBills}),Object(v.jsx)("div",{className:ue.a.leave_button,children:Object(v.jsx)(D,{label:"OK",onClick:n})})]}):Object(v.jsxs)("div",{children:[Object(v.jsx)("p",{children:"\u0412\u044b\u0434\u0430\u043d\u043e:"}),Object(v.jsx)(X,{bills:null===e||void 0===e?void 0:e.givenBills}),Object(v.jsxs)("p",{children:["\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u0432 \u0431\u0430\u043d\u043a\u043e\u043c\u0430\u0442\u0435 \u043d\u0435\u0442 \u043a\u0443\u043f\u044e\u0440\u044b \u043d\u043e\u043c\u0438\u043d\u0430\u043b\u043e\u043c \u0432 ",e.remain,". \u0412\u0430\u043c \u0432\u044b\u0434\u0430\u043d\u043e: ",e.issued,". ",Object(v.jsx)("br",{})," \u041f\u0440\u0438\u043d\u043e\u0441\u0438\u043c \u0438\u0437\u0432\u0438\u043d\u0435\u043d\u0438\u044f \u0437\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u043d\u0435\u0443\u0434\u043e\u0431\u0441\u0442\u0432\u0430."]}),Object(v.jsx)("div",{className:ue.a.leave_button,children:Object(v.jsx)(D,{label:"OK",onClick:n})})]})},_e=function(){var e=E(),t=e.keyClick,n=e.value,s=e.clear,r=e.error,l=e.enter,i=e.setError,u=c.a.useState({}),b=Object(N.a)(u,2),j=b[0],d=b[1],_=Object(h.f)(),x=Object(h.g)(),O=Object(a.useRef)(null);c.a.useEffect((function(){s()}),[]),c.a.useEffect((function(){return x.state&&"\u0414\u0435\u043d\u044c\u0433\u0438 \u0432\u044b\u0434\u0430\u043d\u044b"===x.state.message&&(d(x.state),O.current=setInterval((function(){_.push("/")}),5e3)),function(){return clearInterval(O.current)}}),[x]);return Object(v.jsxs)("div",{className:ue.a.container,children:[Object(v.jsx)(R,{text:"\u0412\u044b\u0434\u0430\u0447\u0430"}),(null===j||void 0===j?void 0:j.message)?Object(v.jsx)(de,Object(o.a)({},j)):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:ue.a.input_container,children:Object(v.jsx)(je,{maxLength:10,onChange:function(e){i(""),t(e,"input")},value:n,error:r})}),Object(v.jsx)("div",{className:ue.a.button,children:Object(v.jsx)(D,{label:"\u0412\u044b\u0432\u0435\u0441\u0442\u0438",onClick:function(){var e=l();"\u0414\u0435\u043d\u044c\u0433\u0438 \u0432\u044b\u0434\u0430\u043d\u044b"===(null===e||void 0===e?void 0:e.message)&&(d(e),O.current=setTimeout((function(){_.push("/")}),5e3))}})})]})]})},xe=function(){return Object(v.jsxs)(h.c,{children:[Object(v.jsx)(h.a,{exact:!0,path:"/",component:te}),Object(v.jsx)(h.a,{exact:!0,path:"/info",component:U}),Object(v.jsx)(h.a,{exact:!0,path:"/settings",component:le}),Object(v.jsx)(h.a,{exact:!0,path:"/give-out",component:_e}),Object(v.jsx)(h.a,{component:te})]})},ve=function(){return Object(v.jsx)("div",{className:u.a.atm,children:Object(v.jsxs)("div",{className:u.a.content,children:[Object(v.jsx)("div",{className:u.a.screen,children:Object(v.jsx)(xe,{})}),Object(v.jsx)("div",{className:u.a.keypad_container,children:Object(v.jsx)(J,{})})]})})},Oe=(n(49),function(){return Object(v.jsx)(B,{children:Object(v.jsx)(l.a,{children:Object(v.jsx)(ve,{})})})});r.a.render(c.a.createElement(Oe),document.getElementById("root"))}],[[50,1,2]]]);
//# sourceMappingURL=main.782c4aba.chunk.js.map